webpackJsonp([16],{SyK7:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=n("mvHQ"),e=n.n(s),c={name:"music_theme",data:function(){return{musicSetting:{musicZhuti:{bgIndex:0,bjIndex:0,bgZt:["圈圈动画","图片背景","无背景"],bjZt:["默认","主题1"]},musicBgImgArr:[n("5PM7"),n("+4vT"),n("2/00")]}}},mounted:function(){this.getMusicSetting()},methods:{getMusicSetting:function(){var t=this;if(!this.isApp)return!1;this.commonFn.openFiles({syncType:"sync",filePath:"pingData/musicData/musicSetting.ping"}).then(function(i){i.status&&t.commonFn.readFiles({syncType:"sync",noOpen:!0,fd:i.fd}).then(function(i){if(i.status){var s=JSON.parse(i.data);s&&(s.musicBgImgArr||(s.musicBgImgArr=[n("5PM7"),n("+4vT"),n("2/00")]),t.musicSetting=s)}})})},saveToSetting:function(){var t=this,i=this;if(!this.isApp)return!1;this.commonFn.openFiles({filePath:"pingData/musicData/musicSetting.ping"}).then(function(n){n.status&&i.commonFn.writeFiles({noOpen:!0,syncType:"sync",fd:n.fd,data:e()(i.musicSetting),overwrite:!0}).then(function(n){n.status?(t.commonFn.showMsg({text:"保存成功！"}),i.$store.commit("changeSetting",!0)):t.commonFn.showMsg({text:e()(n)})})})},changeBgImg:function(t){var i=this;if(!this.isApp)return!1;api.getPicture({sourceType:"library",encodingType:"jpg",mediaValue:"pic",destinationType:"url",quality:100},function(n,s){n.data&&(i.musicSetting.musicBgImgArr[t]=n.data,i.$set(i.musicSetting.musicBgImgArr,i.musicSetting.musicBgImgArr[t],n.data))})},addBgImg:function(){var t=this;if(!this.isApp)return!1;api.getPicture({sourceType:"library",encodingType:"jpg",mediaValue:"pic",destinationType:"url",quality:100},function(i,n){if(i.data){var s=t.musicSetting.musicBgImgArr;s.push(i.data),t.musicSetting.musicBgImgArr=s}})},delBgImg:function(t){var i=this.musicSetting.musicBgImgArr;i.splice(t,1),this.musicSetting.musicBgImgArr=i,this.$set(this.musicSetting,this.musicSetting.musicBgImgArr,i)}}},a={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"music_theme"},[n("h4",{staticClass:"jbbg"},[t._v("主题")]),t._v(" "),n("div",{staticClass:"mThemeBgImg"},[n("h4",[t._v("图片背景")]),t._v(" "),n("div",{staticClass:"mthemeBgImglist"},[n("ul",t._l(t.musicSetting.musicBgImgArr,function(i,s){return n("li",{key:i},[n("img",{attrs:{src:i,alt:""}}),t._v(" "),n("p",[t._v(t._s(i))]),t._v(" "),n("div",{staticClass:"mthemeBtn"},[n("button",{staticClass:"jbbg",attrs:{type:"button"},on:{click:function(i){return t.changeBgImg(s)}}},[t._v("修改")]),t._v(" "),n("button",{staticClass:"jbbg",attrs:{type:"button"},on:{click:function(i){return t.delBgImg(s)}}},[t._v("删除")])])])}),0)]),t._v(" "),n("div",{staticClass:"mThemeHandle"},[n("ul",{staticClass:"flexbox"},[n("li",{on:{click:t.addBgImg}},[n("span",[t._v("添加图片")])]),t._v(" "),n("li",{on:{click:t.saveToSetting}},[n("span",[t._v("保存")])])])])])])},staticRenderFns:[]};var u=n("VU/8")(c,a,!1,function(t){n("w9TR")},null,null);i.default=u.exports},w9TR:function(t,i){}});