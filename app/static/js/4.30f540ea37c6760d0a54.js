webpackJsonp([4],{BhHe:function(t,s){},LhxM:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEtCAYAAACyIV3QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0NEVERUM2RjA3MjExRTc4RTdDQjU5MTk2REU5M0EyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ0NEVERUM3RjA3MjExRTc4RTdDQjU5MTk2REU5M0EyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDQ0RURFQzRGMDcyMTFFNzhFN0NCNTkxOTZERTkzQTIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ0RURFQzVGMDcyMTFFNzhFN0NCNTkxOTZERTkzQTIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6F7j3+AAAC90lEQVR42uzUQQ0AAAjEMMC/58MGJK2EPdZJCuCDkQAwLADDAgwLwLAADAswLADDAjAswLAADAvAsADDAjAsAMMCDAvAsAAMCzAsAMMCMCzAsAAMC8CwAMMCMCwAwwIMC8CwAMMCMCwAwwIMC8CwAAwLMCwAwwIwLMCwAAwLwLAAwwIwLADDAgwLwLAADAswLADDAjAswLAADAvAsADDAjAsAMMCDAvAsADDAjAsAMMCDAvAsAAMCzAsAMMCMCzAsAAMC8CwAMMCMCwAwwIMC8CwAAwLMCwAwwIwLMCwAAwLwLAAwwIwLADDAgwLwLAAwwIwLADDAgwLwLAADAswLADDAjAswLAADAvAsADDAjAsAMMCDAvAsAAMCzAsAMMCMCzAsAAMC8CwAMMCMCwAwwIMC8CwAMMCMCwAwwIMC8CwAAwLMCwAwwIwLMCwAAwLwLAAwwIwLADDAgwLwLAADAswLADDAjAswLAADAvAsADDAjAsAMMCDAvAsADDAjAsAMMCDAvAsAAMCzAsAMMCMCzAsAAMC8CwAMMCMCwAwwIMC8CwAAwLMCwAwwIwLMCwAAwLwLAAwwIwLADDAgwLwLAAwwIwLADDAgwLwLAADAswLADDAjAswLAADAvAsADDAjAsAMMCDAvAsAAMCzAsAMMCMCzAsAAMC8CwAMMCMCwAwwIMC8CwAMMCMCwAwwIMC8CwAAwLMCwAwwIwLMCwAAwLwLAAwwIwLADDAgwLwLAADAswLADDAjAswLAADAvAsADDAjAsAMMCDAvAsADDAjAsAMMCDAvAsAAMCzAsAMMCMCzAsAAMC8CwAMMCMCwAwwIMC8CwAAwLMCwAwwIwLMCwAAwLwLAAwwIwLMCwJAAMC8CwAMMCMCwAwwIMC8CwAAwLMCwAwwIwLMCwAAwLwLAAwwIwLADDAgwLwLAADAswLADDAjAswLAADAvAsADDAjAswLAADAvAsADDAjAsAMMCDAvAsAAMCzAsAMMCMCzAsAAOWAEGAPfHBVcp6WwrAAAAAElFTkSuQmCC"},XrrE:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADcElEQVRoQ+2ZTUhUURTH/+fNmBVBkMyMHwWFRZuSHKnIVkHUqkWK9oE2MyG5ySiSWmbLoiiyjSHNTEofirVoVQStMiq0qDZRUlB+zBsMgqjUee/Ge/fNMM80lTnPxpi7m8vMuf/fO+f+57x7CQt80ALXjxzAv86gcxmIxsqg634TUFH6EfC9dgKWH6Ajvh6aHgawbZLgp3ApIdR73nGC8AKEh1eDlI9/FSj0NQgVfeKC4APoEovwU30MgUpTHKEbOnXLEhI1EKix5nuxxLsDtTTOAcEHcCNWBR09piihn0WoqMUmMDzcAlLOSCBU45DvbnYBRNWjEKJVAlA5Qt5XdgB1E0i8lFmgJgS8V7MLIBI7BeCcKSqxuAANy7/aBLZ/WwH3r1Fr7jSCvvPZBRBV90GI27MqIaL9CHjvZBfA9UE/FHcvgHxLWB2E/kSWjLIdQKc1PwY9UYnDJf3ZBWCoSd8H06ljrH9pdtwjEtsFQg8EltlCE75DoBpB30POJfkBDHXhkY0g105A2yzFul5AaI8QKnzDKd6ZDHArnCGeMxmYRwhnAAxHorxSQC+RLMogxMQAl/OkPx9+AOlEF9LsNLneGIiauf6Bk0F5AQwHAh7MUEG7OZ2ID8BwHoV6U/ZpNHR5i9pNmInxhlQjZ9ipLiq5HIkPIBI/AOg3Z9VKQDmIoOcWx15nBIidBGDUvtFO//nSYn/ZaUbQdzG7AMIjx0F0yRTldq9CXcEXm8DO0ZVIJD5LQHECocLLWQag1oBE16xKSFAtQl75tpbh4Cuhyd2osYmBiKUvmNrEQK4bdfaP7D/qRjcAerHVSgxBaG+5vN/ZDGS4Kef6c75NPNeVmb7vDIDZjbq3gGir5fvPIBLPc93oFFnjzUCuG537xuDLQHo3CtGIYOE1m5zIyBGA2ixbzXWjyYfDl4Go2gQhrpiBXbQO9d4Ptgx0qGuhiffmHNExBLzyIDjDwQgQ2wsBeWRu3A0EfLU2bdFYV9odQRUCvnsZareW4ohixGgbWop8l3EPVmp5fysgrPNP8ptH6nIMYEwrQ2PxD46l+TJgqImq5RBJ0dPII/Ij4JX3BAyDF8AQ1BEvgibaALHHro/uw0WNqPcMM+hOheAHSIaOxCsArUJ+dPUh6OnjFJ6M5RyAE2qniJkDmKcHPe0yCz4DvwGKqEZADIOtZwAAAABJRU5ErkJggg=="},ZLry:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB5ElEQVRoQ+2YMUsDQRCF3yRRyxRiVEQQwcrOP2AsA2KlYqFwVnaChb29gmBpk6S1EVSs7UUrOwUbISTYpBTijVxM0DMSZi83663JleHldr6d2Z13Q3D8IcfjRx8DnDyOIJvdA/urAM0CzAA9gegc9foxdufebGQ3WgbKr1Ng/wLghd+DpHukaRlbYxVtiGgApeo1gEL34OgSXm4leQDlWgHMAcDnw7QOvN9iaLiBRmMDwOFX0LwDb+JUE6IzA8XKQdcFKb0IcL6l2Yc3fhTSF2trID5r0d2B+SpWgO3JUHxhgFL1AcC8eMFMZhqboy9hgMoMKPUsfoexkG7g5Zbaf/tnAAGW0yUkSWfiD7EEwulrNAB0vpEFEE5bCUmZWdJEsxKWgpMsMwCQ7FJTo3Rm7GRA8dayA6DYN/QBlDu3uZ1uF30qxR317/uEn78z5WO137HaafEJbgljsd9x2unEAUjstGnQcX/BdS0h0+AkeuuHWBKUqcbpa1TZfuv3gXa2nLYSpiVnoLeXAYOgTKR9DKBU0ya7H2ijZUDRHtsBULzX9QGUO2vvAE6PFgfT6eZw+A/H6xI7Hbc9Ni36nu104g+xZEecvkaV7bFk/75ronVixUmbPQDTlZT00TOgFJDpa50H+AC7+21AZM0TlAAAAABJRU5ErkJggg=="},eLoK:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("mvHQ"),A=i.n(e),c={name:"music_list",data:function(){return{winH:window.innerHeight,addType:!1,musicSetting:{musicClassify:[{typeText:"播放记录",filePath:"pingData/musicData/bofangjiluMp3.txt",fileName:"bofangjiluMp3.txt"},{typeText:"本地音乐",filePath:"pingData/musicData/phoneAllMp3.txt",fileName:"phoneAllMp3.txt"},{typeText:"我的收藏",filePath:"pingData/musicData/mylikeMp3.txt",fileName:"mylikeMp3.txt"}]},curMusicType:0,addTypeText:"",addTypeFileName:"",showSet:!1,isDel:!1,curSetBoxNum:-1,showInfo:!1,musicInfo:{title:"",url:"",singer:"",duration:"",releaseDate:"",like:!1,source:{name:"",urls:""}},showMusicList:"",musicAll:[{typeText:"播放记录",fileName:"bofangjiluMp3.txt",list:[{title:"11我的楼兰.mp3",url:"...",singer:"",picture:"",duration:"",releaseDate:"",like:!1,source:{name:"",urls:""}},{title:"我的楼兰2.mp3",url:"...",singer:"",picture:"",duration:"",releaseDate:"",like:!1,source:{name:"",urls:""}},{title:"我的楼兰3.mp3",url:"...",singer:"",picture:"",duration:"",releaseDate:"",like:!1,source:{name:"",urls:""}}]},{typeText:"本地音乐",fileName:"phoneAllMp3.txt",list:[{title:"21我的楼兰.mp3",url:"...",singer:"",picture:"",duration:"",releaseDate:"",like:!1,source:{name:"",urls:""}},{title:"我的楼兰2.mp3",url:"...",singer:"",picture:"",duration:"",releaseDate:"",like:!1,source:{name:"",urls:""}},{title:"我的楼兰3.mp3",url:"...",singer:"",picture:"",duration:"",releaseDate:"",like:!1,source:{name:"",urls:""}}]},{typeText:"我的收藏",fileName:"mylikeMp3.txt",list:[]}],delMusicArr:[]}},mounted:function(){var t=this;this.isApp&&this.commonFn.readFiles({syncType:"sync",filePath:"pingData/musicData/musicSetting.ping"}).then(function(s){var i=JSON.parse(s.data);t.musicSetting=i}),this.getMp3File(0),this.scrollListFn()},methods:{pushMp3:function(t){for(var s=t.pushLists?t.pushLists:[],i=t.oriList,e=0;e<t.xzNum;e++)s.push(i[s.length]);return s},changeAdd:function(){this.addType=!this.addType,this.curSetBoxNum=-1},changeMusicType:function(t){this.curMusicType=t,this.curSetBoxNum=-1,this.showSet=!1,this.delMusicArr=[],this.showMusicList="";var s={typeText:this.musicAll[t].typeText,fileName:this.musicAll[t].fileName},i=[];this.musicAll[t].list.length>0&&(50<this.musicAll[t].list.length?s.list=this.pushMp3({xzNum:50,oriList:this.musicAll[t].list,pushLists:i}):s.list=this.pushMp3({xzNum:this.musicAll[t].list.length,oriList:this.musicAll[t].list,pushLists:i})),this.showMusicList=s,this.cancelCheckbox()},cancelCheckbox:function(){for(var t=document.querySelectorAll('input[type="checkbox"]'),s=0;s<t.length;s++)t[s].checked&&(t[s].checked=!1)},clearAddText:function(){this.addTypeText="",this.addTypeFileName=""},saveAddText:function(){var t=this;if(!this.addTypeText)return t.commonFn.showMsg({text:"分类名不能为空！"}),!1;if(!this.addTypeFileName)return t.commonFn.showMsg({text:"文件名不能为空！"}),!1;var s="pingData/musicData/"+this.addTypeFileName+".txt",i=this.musicSetting.musicClassify,e={typeText:t.addTypeText,filePath:"pingData/musicData/"+this.addTypeFileName+".txt",fileName:t.addTypeFileName+".txt"};i.push(e),this.commonFn.openFiles({filePath:s,syncType:"sync",closeFile:!0}).then(function(e){e.status?t.commonFn.showMsg({text:"该文件已存在！"}):t.commonFn.createFile({syncType:"sync",filePath:s}).then(function(e){if(e.status){var c={typeText:t.addTypeText,fileName:t.addTypeFileName+".txt",list:[]};t.commonFn.openFiles({filePath:s,syncType:"sync"}).then(function(s){t.commonFn.writeFiles({noOpen:!0,syncType:"sync",fd:s.fd,data:A()(c),overwrite:!0}).then(function(s){s.status&&t.commonFn.writeFiles({filePath:"pingData/musicData/musicSetting.ping",syncType:"sync",data:A()(t.musicSetting),overwrite:!0}).then(function(s){s.status&&(t.addTypeText="",t.addTypeFileName="",t.musicSetting.musicClassify=i,t.$set(t.musicSetting,t.musicSetting.musicClassify,i),t.commonFn.showMsg({text:"添加分类成功！"}),t.$store.commit("changeSetting",!0))})})})}})})},changeShowSet:function(){this.showSet=!this.showSet,this.curSetBoxNum=-1},changeLiInSet:function(t){this.showSet=!1,this.curSetBoxNum==t?this.curSetBoxNum=-1:this.curSetBoxNum=t},addTypeList:function(t,s){for(var i=this.showMusicList.list[t],e=0;e<this.musicAll[s].list.length;e++)if(this.musicAll[s].list[e].title==i.title&&this.musicAll[s].list[e].url==i.url)return this.commonFn.showMsg({text:"已存在此歌曲，勿重复添加！"}),this.curSetBoxNum=-1,!1;var A=this.musicAll[s].list?this.musicAll[s].list:[];A.length>0?A.unshift(i):A.push(i),this.musicAll[s].list=A,this.$set(this.musicAll[s],this.musicAll[s].list,A),this.saveDataFile([s],"添加成功！"),this.$store.commit("changeToType",{adCurTypes:[s]}),this.curSetBoxNum=-1},showMusicInfo:function(t){this.showInfo=!0,this.curSetBoxNum=-1,this.showInfoIndex=t,this.musicInfo=this.musicAll[this.curMusicType].list[t]},closeInfo:function(){this.showInfo=!1},changeDel:function(){this.isDel&&this.cancelCheckbox(),this.isDel=!this.isDel},changeInpStatus:function(t){this.showSet=!1;for(var s=this.delMusicArr?this.delMusicArr:[],i=s,e=!1,A=t.currentTarget.value,c=this.musicAll[this.curMusicType].list,l=0;l<s.length;l++)i[l].title==c[A].title&&i[l].url==c[A].url&&(e=!0,t.currentTarget.checked||i.splice(l,1));e||(i.length>0?i.push(c[A]):i[0]=c[A]),this.delMusicArr=i},delSelect:function(){for(var t=this.musicAll[this.curMusicType],s=this.showMusicList,i=this.delMusicArr,e=0;e<i.length;e++)for(var A=0;A<s.list.length;A++)if(s.list[A].title==i[e].title&&s.list[A].url==i[e].url){t.list.splice(A,1),s.list.splice(A,1);break}this.showMusicList=s,this.musicAll[this.curMusicType]=t,this.delMusicArr=[],this.saveDataFile([this.curMusicType],"删除成功！"),this.$store.commit("changeToType",{adCurTypes:[this.curMusicType]})},getMp3File:function(t){var s=this,i=this;if(!this.isApp)return!1;this.commonFn.readFiles({syncType:"sync",filePath:this.musicSetting.musicClassify[t||0].filePath}).then(function(e){if(e.status){var A=JSON.parse(e.data);if(i.musicAll[t]=A,0==t&&A.list.length>0){i.curMusicType=0;var c={};c.typeText=A.typeText,c.fileName=A.fileName;var l=[];l=A.list.length>50?i.pushMp3({xzNum:50,oriList:A.list,pushLists:[]}):i.pushMp3({xzNum:A.list.length,oriList:A.list,pushLists:[]}),c.list=l,s.showMusicList=c}t+1<i.musicSetting.musicClassify.length&&i.getMp3File(++t)}})},scrollListFn:function(){var t=this,s=this,i=!1;this.$refs.musicList.addEventListener("scroll",function(e){var A=t.curMusicType;if(e.target.scrollHeight-(e.target.scrollTop+e.target.offsetHeight)<10&&!i){i=!0;var c=[];c=s.showMusicList.list.length+50<s.musicAll[A].list.length?s.pushMp3({xzNum:50,oriList:s.musicAll[A].list,pushLists:s.showMusicList.list}):s.pushMp3({xzNum:s.musicAll[A].list.length-s.showMusicList.length,oriList:s.musicAll[A].list,pushLists:s.showMusicList.list}),t.showMusicList.list=c,t.$set(t.showMusicList,t.showMusicList.list,c),setTimeout(function(){i=!1},300)}})},saveDataFile:function(t,s){if(!this.isApp)return!1;var i=this;setTimeout(function(){for(var e=0,c=0;c<t.length;c++)i.commonFn.writeFiles({filePath:i.musicSetting.musicClassify[t[c]].filePath,data:A()(i.musicAll[t[c]]),overwrite:!0,syncType:"sync"}).then(function(){++e==t.length&&s&&i.commonFn.showMsg({text:s})})},300)}}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"musicList",staticClass:"music_list",style:{height:t.winH+"px"}},[e("div",{staticClass:"musicListType"},[e("ul",t._l(t.musicSetting.musicClassify,function(s,i){return e("li",{key:s.typeText,staticClass:"jbbg",class:t.curMusicType==i?"active":"",on:{click:function(s){return t.changeMusicType(i)}}},[t._v(t._s(s.typeText))])}),0)]),t._v(" "),e("div",{staticClass:"musLiBtn"},[e("div",{staticClass:"musSetLi",class:t.showSet?"active":""},[e("ul",[e("li",{on:{click:t.changeAdd}},[t._v(t._s(t.addType?"关闭":"显示")+"新增类型")]),t._v(" "),e("li",{on:{click:t.changeDel}},[t._v(t._s(t.isDel?"关闭":"显示")+"多选")]),t._v(" "),e("li",{directives:[{name:"show",rawName:"v-show",value:t.isDel,expression:"isDel"}],on:{click:t.delSelect}},[t._v("删除选中")])])]),t._v(" "),e("div",{staticClass:"musSetBtn",on:{click:t.changeShowSet}},[e("img",{attrs:{src:i("ZLry"),alt:""}})])]),t._v(" "),e("div",{staticClass:"musicListMBox"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.addType,expression:"addType"}],staticClass:"addMusicTypeBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addTypeText,expression:"addTypeText"}],attrs:{type:"text",placeholder:"请输入要添加的音乐分类名"},domProps:{value:t.addTypeText},on:{input:function(s){s.target.composing||(t.addTypeText=s.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addTypeFileName,expression:"addTypeFileName"}],attrs:{type:"text",placeholder:"请输入要添加的文件名"},domProps:{value:t.addTypeFileName},on:{input:function(s){s.target.composing||(t.addTypeFileName=s.target.value)}}}),t._v(" "),e("div",[e("button",{staticClass:"jbbg",attrs:{type:"button"},on:{click:t.clearAddText}},[t._v("清空")]),t._v(" "),e("button",{staticClass:"jbbg",attrs:{type:"button"},on:{click:t.saveAddText}},[t._v("保存")])])]),t._v(" "),e("div",{staticClass:"musicListMain",class:t.isDel?"showDel":""},[e("ul",t._l(t.showMusicList.list,function(s,A){return e("li",{key:s.title+A},[e("div",{staticClass:"musRadio"},[e("input",{attrs:{type:"checkbox"},domProps:{value:A},on:{change:t.changeInpStatus}})]),t._v(" "),e("div",{staticClass:"musicLiText"},[e("p",[t._v(t._s(s.title))]),t._v(" "),e("p",[t._v(t._s(s.singer?s.singer:"未知歌手"))])]),t._v(" "),e("div",{staticClass:"musicLiSet"},[e("button",{attrs:{type:"button"},on:{click:function(s){return t.changeLiInSet(A)}}},[e("img",{attrs:{src:i("XrrE"),alt:""}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.curSetBoxNum==A?"active":"",expression:"curSetBoxNum==inindex?'active':''"}],staticClass:"musicSetList"},[t._l(t.musicSetting.musicClassify,function(s,i){return e("div",{key:s.typeText,class:i<=2||i==t.curMusicType?"disableds":"",on:{click:function(s){return t.addTypeList(A,i)}}},[t._v("添加到"+t._s(s.typeText))])}),t._v(" "),e("div",{on:{click:function(s){return t.showMusicInfo(A)}}},[t._v("查看详情")])],2)])])}),0)])]),t._v(" "),e("div",{staticClass:"musicDetail",class:t.showInfo?"active":""},[e("div",{staticClass:"musicDTInfo"},[e("button",{staticClass:"closeMusicInfo",attrs:{type:"button"},on:{click:t.closeInfo}},[e("img",{attrs:{src:i("xp5Z"),alt:""}})]),t._v(" "),e("div",{staticClass:"musicDTPic"},[e("img",{style:"background:url("+(t.musicInfo.picture?t.musicInfo.picture:t.musicSetting.mp3ImgUrl||i("5PM7"))+") no-repeat center center/cover;",attrs:{src:i("LhxM"),alt:""}})]),t._v(" "),e("p",[e("span",[t._v("歌名：")]),t._v(t._s(t.musicInfo.title))]),t._v(" "),e("p",[e("span",[t._v("路径：")]),t._v(t._s(t.musicInfo.url))]),t._v(" "),e("p",[e("span",[t._v("歌手：")]),t._v(t._s(t.musicInfo.singer?t.musicInfo.singer:"未知歌手"))]),t._v(" "),e("p",[e("span",[t._v("时长：")]),t._v(t._s(t.musicInfo.duration?t.musicInfo.duration:"未知时长"))]),t._v(" "),e("p",[e("span",[t._v("发行日期：")]),t._v(t._s(t.musicInfo.releaseDate?t.musicInfo.releaseDate:"未知发行日期"))]),t._v(" "),e("p",[e("span",[t._v("来源：")]),t._v(t._s(t.musicInfo.source.name?t.musicInfo.source.name:"未知来源"))])])])])},staticRenderFns:[]};var n=i("VU/8")(c,l,!1,function(t){i("BhHe")},null,null);s.default=n.exports}});