{"version":3,"sources":["webpack:///src/pages/admin/edit.vue","webpack:///./src/pages/admin/edit.vue?b2e3","webpack:///./src/pages/admin/edit.vue"],"names":["edit","name","data","detailData","isShow","curtitle","content","editorOption","popStatus","popData","title","slots","flex","values","className","textAlign","valueKey","tagArr","curType","enType","domain","this","hosts","created","mounted","_this","getData","console","log","editor","getTags","then","res","cndata","endata","activated","deactivated","methods","requests","reqUrl","$route","query","id","ret","detail","classify_tagname","onEditorBlur","quill","onEditorFocus","onEditorReady","onEditorChange","_ref","html","text","changeTags","changClassify","e","popCancel","popConfirm","entypes","curValue","i","length","computed","$refs","myQuillEditor","admin_edit","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","attrs","_v","_s","on","click","publish_time","ref","options","focus","$event","blur","change","model","callback","$$v","_m","popDatas","popChange","staticRenderFns","type","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.5fdefa0fd2761d06fba2.js","sourcesContent":["<template>\r\n    <div class=\"detail\">\r\n        <div class=\"dt_title\" v-show=\"isShow\">\r\n            <!-- <h4>{{detailData.title}}</h4> -->\r\n            <textarea name=\"\">{{curtitle}}</textarea>\r\n            <p><span class=\"cursor_p\" @click=\"changeTags\">标签：{{curType}}</span><span>{{detailData.publish_time}}</span></p>\r\n        </div>\r\n        <div class=\"dt_content\">\r\n            <!-- <div v-html=\"detailData.content\"></div> -->\r\n            <quill-editor\r\n                v-model=\"content\"\r\n                ref=\"myQuillEditor\"\r\n                :options=\"editorOption\"\r\n                @focus=\"onEditorFocus($event)\"\r\n                @blur=\"onEditorBlur($event)\"\r\n                @change=\"onEditorChange($event)\">\r\n            </quill-editor>\r\n        </div>\r\n        <div class=\"dtEditBtn mt30\">\r\n            <button class=\"wAll btn_primary\" type=\"button\">保存</button>\r\n        </div>\r\n        <popList :popDatas=\"popData\" :popStatus=\"popStatus\" @popChange=\"changClassify\" @popCancel=\"popCancel\" @popConfirm=\"popConfirm\"></popList>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name:'admin_edit',\r\n    data(){\r\n        return{\r\n            detailData:'',\r\n            isShow: false,\r\n            curtitle:'',//标题\r\n            content: '',//内容\r\n            editorOption: {\r\n            // some quill options\r\n            },\r\n            popStatus: false,\r\n            popData:{\r\n                title:'分类',\r\n                slots: [\r\n                    {\r\n                    flex: 1,\r\n                    values: [],\r\n                    className: 'slot1',\r\n                    textAlign: 'center',\r\n                    valueKey:'2015-02'\r\n                    }\r\n                ],\r\n            },\r\n            tagArr:[],\r\n            curType:'All',//分类\r\n            enType:'',//分类-用于提交\r\n            domain: this.hosts,\r\n        }\r\n    },\r\n    created(){\r\n        \r\n    },\r\n    mounted(){\r\n        var _this = this;\r\n        this.getData();\r\n        console.log('this is current quill instance object', this.editor);\r\n        this.getTags(false).then(function(res){\r\n            console.log(res);\r\n             _this.popData.slots[0].values = res.cndata;\r\n            _this.tagArr =res.endata;\r\n        })\r\n    },\r\n    activated(){\r\n        // this.getData();\r\n    },\r\n    deactivated(){\r\n        // 页面离开\r\n        // this.isShow = false;\r\n    },\r\n    methods:{\r\n        getData:function(){\r\n            var _this = this;\r\n            this.requests({reqUrl:'/api/index/get_detail?id='+this.$route.query.id}).then(function(ret){\r\n                console.log(ret)\r\n                if(ret){\r\n                    _this.detailData = ret.detail[0];\r\n                    _this.content = ret.detail[0].content;\r\n                }\r\n                _this.isShow = true;\r\n                _this.curType = ret.detail[0].classify_tagname;\r\n                _this.curtitle = ret.detail[0].title;\r\n            })\r\n        },\r\n        onEditorBlur(quill) {\r\n            // console.log('editor blur!', quill)\r\n        },\r\n        onEditorFocus(quill) {\r\n            // console.log('editor focus!', quill)\r\n        },\r\n        onEditorReady(quill) {\r\n            // console.log('editor ready!', quill)\r\n        },\r\n        onEditorChange({ quill, html, text }) {\r\n            console.log('editor change!', quill, html, text)\r\n            this.content = html\r\n        },\r\n        changeTags(){\r\n            this.popStatus?(this.popStatus = false):(this.popStatus = true);\r\n        },\r\n        changClassify:function(e){\r\n            // 选择分类\r\n            console.log(e);\r\n        },\r\n        popCancel(e){\r\n            this.popStatus = false;\r\n        },\r\n        popConfirm(e){\r\n            // 确定分类\r\n            console.log(e);\r\n            this.curType = e.curValue[0];\r\n            console.log(e.curValue[0]);\r\n            var entypes;\r\n            for(var i=0; i<this.tagArr.length;i++){\r\n                if(e.curValue[0] =='全部'){\r\n                    entypes = 'All'\r\n                }else if(e.curValue[0] =='小程序'){\r\n                    entypes = 'mini';\r\n                }else if(e.curValue[0]==this.tagArr[i]){\r\n                    entypes = e.curValue[0];\r\n                }\r\n            }\r\n            this.curType = e.curValue[0];\r\n            this.enType = entypes;\r\n            this.popStatus = false;\r\n        },\r\n    },\r\n    computed: {\r\n      editor() {\r\n        return this.$refs.myQuillEditor.quill\r\n      }\r\n    },\r\n}\r\n</script>\r\n<style>\r\n    .detail{\r\n        padding: 20px 15px;\r\n    }\r\n    .dt_title{\r\n        text-align: center;\r\n        border-bottom: 1px solid rgb(200, 200, 200);\r\n        padding-bottom: 20px;\r\n        /* margin-bottom: 20px; */\r\n    }\r\n    .dt_title h4{\r\n        font-weight: normal;\r\n        margin-bottom: 10px;\r\n    }\r\n    .dt_title textarea{\r\n        border: 1px solid rgb(230, 230, 230);\r\n        background-color: white;\r\n        padding: 10px;\r\n        border-radius: 4px;\r\n        height: 70px;\r\n        resize: none;\r\n        width: 100%;\r\n        margin-bottom: 10px;\r\n        text-align: center;\r\n        line-height: 24px;\r\n    }\r\n    .dt_title p{\r\n        color: rgb(112, 112, 112);\r\n        font-size: 12px;\r\n    }\r\n    .dt_title p span:first-of-type{\r\n        display: inline-block;\r\n        margin-right: 30px;\r\n    }\r\n    .dt_content{\r\n        margin-top: 30px;\r\n    }\r\n    .dt_content *{\r\n        word-wrap: break-word; \r\n        word-break: normal; \r\n        white-space: pre-wrap;\r\n    }\r\n    .dt_content code{\r\n        display: block;\r\n        background-color: #f1f1f1;\r\n        border-radius: 3px;\r\n        padding: 10px;\r\n    }\r\n    .dtEditBtn{\r\n\r\n    }\r\n    \r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/admin/edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"dt_title\"},[_c('textarea',{attrs:{\"name\":\"\"}},[_vm._v(_vm._s(_vm.curtitle))]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"cursor_p\",on:{\"click\":_vm.changeTags}},[_vm._v(\"标签：\"+_vm._s(_vm.curType))]),_c('span',[_vm._v(_vm._s(_vm.detailData.publish_time))])])]),_vm._v(\" \"),_c('div',{staticClass:\"dt_content\"},[_c('quill-editor',{ref:\"myQuillEditor\",attrs:{\"options\":_vm.editorOption},on:{\"focus\":function($event){return _vm.onEditorFocus($event)},\"blur\":function($event){return _vm.onEditorBlur($event)},\"change\":function($event){return _vm.onEditorChange($event)}},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('popList',{attrs:{\"popDatas\":_vm.popData,\"popStatus\":_vm.popStatus},on:{\"popChange\":_vm.changClassify,\"popCancel\":_vm.popCancel,\"popConfirm\":_vm.popConfirm}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dtEditBtn mt30\"},[_c('button',{staticClass:\"wAll btn_primary\",attrs:{\"type\":\"button\"}},[_vm._v(\"保存\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-faf97342\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/admin/edit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-faf97342\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./edit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-faf97342\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/admin/edit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}