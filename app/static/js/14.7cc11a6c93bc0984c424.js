webpackJsonp([14],{"0ms+":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),r=s.n(a),o={name:"codes",data:function(){return{areaH:window.innerHeight,showCur:0,codebtn:!1,popStatus:!1,poptitle:"提示框",selectFurl:""}},mounted:function(){this.initCont()},methods:{showCodebtn:function(){this.codebtn=!this.codebtn},showArea:function(e){this.showCur=e.target.dataset.curindex},showCodes:function(){var e=document.querySelector(".areaHtml").value,t=document.querySelector(".areaCss").value,s=document.querySelector(".areaJs").value;this.$router.push({path:"/showcode",query:{areahtml:e,areacss:t,areajs:s}})},getFile:function(){var e=this;if(this.isApp){var t=api.require("fileBrowser");api.require("fs");t.open(function(s){if(s){var a=s;e.selectFurl=a.url,t.close(),e.commonFn.readFiles({cancelPath:!0,filePath:a.url}).then(function(t){if(t.status){var s=e.commonFn.checkSuffix(a.url);".html"==s[0]?(document.querySelector(".areaHtml").value=t.data,e.showCur=0):".css"==s[0]?(document.querySelector(".areaCss").value=t.data,e.showCur=1):".js"==s[0]?(document.querySelector(".areaJs").value=t.data,e.showCur=2):e.commonFn.showMsg({text:"文件格式不准确！"})}else alert(r()(t))})}})}},clearAll:function(){if(0==this.showCur?document.querySelector(".areaHtml").value="":1==this.showCur?document.querySelector(".areaCss").value="":2==this.showCur&&(document.querySelector(".areaJs").value=""),this.selectFurl){var e=this.commonFn.checkSuffix(this.selectFurl);".html"==e&&0==this.showCur?this.selectFurl="":".css"==e&&1==this.showCur?this.selectFurl="":"js"==e&&2==this.showCur&&(this.selectFurl="")}},resetAll:function(){this.initCont(),this.selectFurl=""},saveFiles:function(){this.popStatus=!0},initCont:function(){var e="<!DOCTYPE html>\r\n";e+='<html lang="zh-CN">\r\n',e+="<head>\r\n",e+='<meta charset="UTF-8">\r\n',e+='<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">\r\n',e+='<meta http-equiv="X-UA-Compatible" content="ie=edge">\r\n',e+="<title></title>\r\n",e+="</head>\r\n",e+="<body>\r\n\r\n</body>\r\n</html>",document.querySelector(".areaHtml").value=e},popbCancel:function(){this.popStatus=!1},popbConfirm:function(){this.popStatus=!1,this.showCur=!1;var e=this;if(this.selectFurl){var t,s=this.commonFn.checkSuffix(this.selectFurl);".html"==s?t=document.querySelector(".areaHtml").value:".css"==s?t=document.querySelector(".areaCss").value:"js"==s&&(t=document.querySelector(".areaJs").value),this.commonFn.writeFiles({cancelPath:!0,filePath:this.selectFurl,data:t,overwrite:!0})}else{var a=document.querySelector(".areaHtml").value,r=document.querySelector(".areaCss").value,o=document.querySelector(".areaJs").value;r&&(a=a.replace("</head>","<style>"+r+"</style></head>")),o&&(a=a.replace("</body>","<script>"+o+"<\/script></body>"));var l=document.querySelector(".saveFinp").value;this.commonFn.openFiles({filePath:"files/"+l+".html"}).then(function(t){t.status?e.commonFn.writeFiles({filePath:"files/"+l+".html",data:a,overwrite:!0}).then(function(t){t.status&&e.commonFn.showMsg({text:"保存成功！"})}):e.commonFn.createFile({filePath:"files/"+l+".html"}).then(function(t){t.status&&e.commonFn.writeFiles({filePath:"files/"+l+".html",data:a}).then(function(t){t.status&&e.commonFn.showMsg({text:"保存成功！"})})})})}}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"codes"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.showCur,expression:"showCur==0"}],staticClass:"codes_html"},[a("textarea",{staticClass:"areaHtml",style:"height:"+e.areaH+"px",attrs:{placeholder:"HTML",name:""}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showCur,expression:"showCur==1"}],staticClass:"codes_css"},[a("textarea",{staticClass:"areaCss",style:"height:"+e.areaH+"px",attrs:{placeholder:"CSS",name:""}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.showCur,expression:"showCur==2"}],staticClass:"codes_js"},[a("textarea",{staticClass:"areaJs",style:"height:"+e.areaH+"px",attrs:{placeholder:"JS",name:""}})]),e._v(" "),a("div",{staticClass:"codesBtns"},[a("button",{attrs:{type:"button"},on:{click:e.showCodebtn}},[a("img",{attrs:{src:s("p43W"),alt:""}})]),e._v(" "),a("div",{staticClass:"codebtnBox",class:e.codebtn?"active":""},[a("ul",[a("li",{class:0==e.showCur?"active":"",attrs:{"data-curIndex":"0"},on:{click:e.showArea}},[e._v("html")]),e._v(" "),a("li",{class:1==e.showCur?"active":"",attrs:{"data-curIndex":"1"},on:{click:e.showArea}},[e._v("css")]),e._v(" "),a("li",{class:2==e.showCur?"active":"",attrs:{"data-curIndex":"2"},on:{click:e.showArea}},[e._v("js")])]),e._v(" "),a("ul",[a("li",{class:3==e.showCur?"active":"",attrs:{"data-curIndex":"3"},on:{click:e.getFile}},[e._v("file")]),e._v(" "),a("li",{class:4==e.showCur?"active":"",attrs:{"data-curIndex":"4"},on:{click:e.clearAll}},[e._v("清空")]),e._v(" "),a("li",{class:5==e.showCur?"active":"",attrs:{"data-curIndex":"5"},on:{click:e.resetAll}},[e._v("重置")]),e._v(" "),a("li",{class:6==e.showCur?"active":"",attrs:{"data-curIndex":"6"},on:{click:e.saveFiles}},[e._v("保存")]),e._v(" "),a("li",{attrs:{"data-curIndex":"3"},on:{click:e.showCodes}},[e._v("show")])])])]),e._v(" "),a("popbox",{attrs:{poptitle:e.poptitle,popStatus:e.popStatus},on:{popbCancel:e.popbCancel,popbConfirm:e.popbConfirm}},[a("div",{staticClass:"saveTips"},[a("input",{staticClass:"saveFinp",attrs:{type:"text",placeholder:"请输入要保存的文件名称"}})])])],1)},staticRenderFns:[]};var c=s("VU/8")(o,l,!1,function(e){s("MxG6")},"data-v-4135a226",null);t.default=c.exports},MxG6:function(e,t){}});